datasets:
  users:
    display_name: Users
    description: Registered users and their signup profile.
    synonyms:
      - customer
      - account
    columns:
      user_id:
        description: Unique identifier for each user.
        synonyms:
          - id
          - customer_id
      signup_date:
        description: Timestamp when the user registered.
        synonyms:
          - joined_at
          - registration_time
      country:
        description: Reported country for the user.
        synonyms:
          - region
          - locale
      device_type:
        description: Primary device used during signup.
        synonyms:
          - platform
          - device
    metrics:
      total_users:
        description: Total number of registered users.
        expression: count(user_id)
        synonyms:
          - user_count
          - customers

  subscriptions:
    display_name: Subscriptions
    description: Records of user subscription activity.
    synonyms:
      - plans
      - memberships
    columns:
      subscription_id:
        description: Unique identifier for a subscription record.
        synonyms:
          - sub_id
      user_id:
        description: Links the subscription to a user.
        synonyms:
          - account_id
      plan:
        description: Subscription plan or tier.
        synonyms:
          - tier
          - subscription_plan
      start_date:
        description: Start timestamp for the subscription.
        synonyms:
          - began_at
          - activation_date
      end_date:
        description: End timestamp if the subscription has concluded.
        synonyms:
          - ended_at
          - expiration_date
      status:
        description: Current status of the subscription.
        accepted_values: ['active', 'inactive', 'cancelled', 'expired', 'suspended', 'pending', 'refunded']
        synonyms:
          - subscription_status
          - plan_state
    metrics:
      active_subscriptions:
        description: Count of subscriptions currently marked active.
        expression: count(subscription_id where status == 'active')
        synonyms:
          - active_customers
          - active_plans

  payments:
    display_name: Payments
    description: Payment transactions recorded for subscriptions.
    synonyms:
      - transactions
      - receipts
    columns:
      payment_id:
        description: Primary identifier for a payment transaction.
        synonyms:
          - txn_id
      subscription_id:
        description: Subscription linked to the payment.
        synonyms:
          - sub_id
      payment_date:
        description: Timestamp when the payment was processed.
        synonyms:
          - paid_at
          - transaction_time
      amount_usd:
        description: Amount charged in USD.
        synonyms:
          - payment_amount
          - charge_usd
      method:
        description: Payment method used for the transaction.
        synonyms:
          - payment_type
          - channel
    metrics:
      total_payments_usd:
        description: Total value of recorded payments in USD.
        expression: sum(amount_usd)
        synonyms:
          - payments_sum
          - payment_volume

